██5,15≡15,1██5,15F1ile  5E1dit  5S1earch  5R1un  5C1ompile  5D1ebug  5P1roject  5O1ptions    5W1indow15,1██5,15H1elp15,1██
0,2╔═[9■0]════════════════════════════15 0ADVENT.CPP15 0════════════════════════════2═[9 0]═╗
0,2║2,1█9,2#include <dos.h>        8      15                                 0              ║
0,2║2,1█9,2#include <conio.h>      8      15                                 0              ║
0,2║2,1█9,2#include <stdio.h>      8      15                                 0              ║
0,2║2,1█9,2#include <malloc.h>     8      15                                 0              ║
0,2║2,1█9,2                        8      15                                 0              ║
0,2║2,1█9,2#define YEAR 2023       8      15                                 0              ║
0,2║2,1█9,2#define SCREEN_SIZE 40008      15                                 0              ║
0,2║2,1█8,2                              15                                 0              ║
0,2║2,1█0,2void8 wait_retrace0()8 {         15                                 0              ║
0,2║2,1█8,2    0while8 0(8inp(110x3da0)8 0&8 1180);8   15                                 0              ║
0,2║2,1█8,2    0while8 0(!(8inp(110x3da0)8 0&8 1180));15                                 0              ║
0,2║2,1█8,2}                                                                  0          ║
0,2║2,1█8,2                                                                   0          ║
0,2║2,1█0,2int8 advent_day0()8 0{8                                                 0          ║
0,2║2,1█8,2    0struct8 date today0;8                                             0          ║
0,2║2,1█8,2    getdate0(&8today0);8                                               0          ║
0,2║2,1█8,2    0if ((8today0.8da_year 0==8 YEAR 0&&8 today0.8da_mon 0<8 11120)8     2oday.da_year < YEAR)0║
0,2║2,1█8,2        0||8 today.da_year 0<8 YEAR0)8 0{8                                 2          0║
0,2║2,1█8,2        0return8 1100;8                                                  0          ║
0,2║2,1█8,2    0}8                                                              0          ║
0,2║2,1█8,2    0if8 0(8today.da_year 0>8 YEAR 0||8 today0.8da_day 0>8 11250)8 0{8               0          ║
0,2║2,1█8,2        0return8 11250;8                                                 0          ║
0,2║2,1█8,2    0}8                                                              0          ║
0,2║2,1█8,2    0return8 today0.8da_day0;8                                           0          ║
0,2║2,1█0,2}8                                                                  0          ║
0,2║2,1█8,2                                                                   0          ║
0,2║2,1█0,2void8 display_day0(int8 day0)8 0{8                                        0          ║
0,2║2,1█8,2    0char *8screen 0=8 0(char *)8malloc0(8SCREEN_SIZE0);8                    0          ║
0,2║2,1█8,2    FILE 0*8f = fopen0(11"ADVENT.DAT"8, 11"rb"0);8                           0          ║
0,2║2,1█8,2    0long8 0int8 offset 0=8 0(long int)(8day 0-8 1110)8 0*8 SCREEN_SIZE0;8           0          ║
0,2║2,1█8,2    fseek0(8f0,8 offset0,8 SEEK_SET0);8                                    0          ║
0,2║2,1█8,2    fread0(8screen0,8 1110,8 SCREEN_SIZE0,8 f0);8                              0          ║
0,2║2,1█8,2    fclose0(8f0);8                                                     0          ║
0,2║2,1█8,2    puttext0(1110,8 1110,8 11800,8 11250,8 screen0);8                                 0          ║
0,2║2,1█8,2    free0(8screen0);8                                                  0          ║
0,2║2,1█8,2}                                                                  0          ║
0,2║2,1█8,2                                                                   0          ║
0,2║2,1█0,2void 8display_advent0(int8 current_day0)8 0{8                             0          ║
0,2║2,1█8,2    0int8 max_day 0=8 current_day0;8                                     0          ║
0,2║2,1█8,2    0int8 new_day0;8                                                   0          ║
0,2║2,1█8,2    _setcursortype0(8_NOCURSOR0);8                                     0          ║
0,2║2,1█8,2    clrscr0();8                                                      0          ║
0,2║2,1█8,2    display_day0(8current_day0);8                                      0          ║
0,2║2,1█8,2    while 0(1110)8 0{8                                                    0          ║
0,2║2,1█8,2        0if8 0(8kbhit0())8 0{8                                             0          ║
0,2║2,1█15,2        8    switch 0(8getch0())8 0{8          15                         0            ║
0,2║2,1█8,2            0case8 110x1b0:8                                                  0     ║
0,2║2,1█8,2                textcolor0(8WHITE0);8                                       0     ║
0,2║2,1█8,2                textbackground0(8BLACK0);8                                  0     ║
0,2║2,1█8,2                gotoxy0(810,8 250);8                                          0     ║
0,2║2,1█8,2                _setcursortype0(8_NORMALCURSOR0);8                          0     ║
0,2║2,1█8,2                0return;8                                                 0     ║
0,2║2,1█8,2            0case8 110x4d0:8                                                  0     ║
0,2║2,1█8,2                0if (8current_day 0<8 max_day0)8 0{8                            0     ║
0,2║2,1█8,2                    current_day0++;8                                      0     ║
0,2║2,1█8,2                    display_day0(8current_day0);8                           0     ║
0,2║2,1█8,2                0}8                                                       0     ║
0,2║2,1█8,2                0break;8                                                  0     ║
0,2║2,1█8,2            0case8 110x4b0:8                                                  0     ║
0,2║2,1█8,2                0if (8current_day 0>8 1110)8 0{8                                  0     ║
0,2║2,1█8,2                    current_day0--;8                                      0     ║
0,2║2,1█8,2                    display_day0(8current_day0);8                           0     ║
0,2║2,1█8,2                0}8                                                       0     ║
0,2║2,1█8,2                0break;8                                                  0     ║
0,2║2,1█8,2            0}8                                                           0     ║
0,2║2,1█8,2        0}8                                                               0     ║
0,2║2,1█8,2        new_day 0=8 advent_day0();8                                         0     ║
0,2║2,1█8,2        0if (8new_day 0>8 max_day0)8 0{8                                        0     ║
0,2║2,1█8,2            current_day 0=8 new_day0;8                                      0     ║
0,2║2,1█8,2            display_day0(8current_day0);8                                   0     ║
0,2║2,1█8,2            max_day 0=8 new_day0;8                                          0     ║
0,2║2,1█8,2        0}8                                                               0     ║
0,2║2,1█8,2        wait_retrace0();8                                                 0     ║
0,2║2,1█8,2    0}8                                                                   0     ║
0,2║2,1█0,2}8                                                                       0     ║
0,2║2,1█8,2                                                                        0     ║
0,2║ int8 main0() {8                                                            0     ║
0,2║2,1█8,2    0int8 current_day 0=8 advent_day0();8                                     0     ║
0,2║2,1█8,2    0if8 0(8current_day 0==8 1100) {8                                             0     ║
0,2║2,1█8,2        clrscr0();8                                                       0     ║
0,2║2,1█8,2        printf0(11"Come back on December 1st, %d!\n0",8 YEAR0);8               0     ║
0,2║2,1█8,2        getch0();8                                                        0     ║
0,2║2,1█8,2    0} else {8                                                            0     ║
0,2║2,1█8,2        display_advent0(8current_day0);8                                    0     ║
0,2║2,1█8,2        printf0(11"\nBack to the void (MS-DOS)...\n"0);8                     0     ║
0,2║2,1█8,2    0}8                                                                   0     ║
0,2║2,1█8,2    0return8 1100;8                                                           0     ║
0,2║2,1█0,2}8                                                                       0     ║
0,2║2,1█0,12█0,2                                                                            ║
0,2╚══════════════════════════════════════════════════════════════════════════════╝

